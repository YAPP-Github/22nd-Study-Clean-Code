# 1장 **깨끗한 코드**

```
이 책을 읽고 있다면 이유는 두 가지

1. 프로그래머라서
2. 더 나은 프로그래머가 되려고 👍
```

<br/>

## **코드가 존재하리라**
- 아무리 AI 시대라지만 코드가 사라질 가망은 전혀 없다.
- 코드는 `요구사항을 상세히 표현하는 수단`이기 때문이다.
- 어느 수준에 이르면 코드의 도움 없이 요구사항을 상세하게 표현하기란 불가능하다.
- `기계가 실행할 정도로 상세하게` 요구사항을 명시하는 작업, 바로 이것이 프로그래밍이다.
- 제대로 명시한 요구사항은 코드만큼 정형적이며 테스트 케이스로 사용해도 좋다.

<br/>

## **나쁜 코드**
```
80년대 후반 킬러 앱 하나를 구현한 회사가 있었다.
회사는 얼마 못가 망했다.
그들은 출시에 바빠 코드를 마구 짰다.
기능을 추가할수록 코드는 엉망이 되어갔고, 결국은 감당이 불가능한 수준에 이르렀다.
회사가 망한 원인은 바로 나쁜 코드 👎 탓이었다.
```
- 우리 모두는 자신이 짠 쓰레기 코드를 쳐다보며 `나중에` 손보겠다고 생각한 경험이 있다.
- 그때 그 시절 우리는 `르블랑의 법칙`을 몰랐다.
- `나중은 결코 오지 않는다.`

<br/>

## 나쁜 코드로 치르는 대가
- 나쁜 코드는 개발 속도를 크게 떨어뜨린다.
- 코드를 고칠 때마다 엉뚱한 곳에서 문제가 생긴다.
- 매번 얽히고설킨 코드를 '해독'해서 얽히고설킨 코드를 더한다.
- 불가항력이다.

<br/>

## 원대한 재설계의 꿈
- 결국 재설계의 꿈을 가지고 새 시스템을 개발한다.
- 하지만 쉽지 않다. 
- 초기부터 시간을 들여 깨끗한 코드를 만들려고 노력하는게 비용 절감 뿐만 아니라 전문가로서 살아남는 길이다.

<br/>

## 태도
```
코드가 정말이지 너무도 엉망이라 몇 시간으로 예쌍한 업무가 몇 주로 늘어진 경험이 있는가? 한 줄만 고치면 되리라 예상했다가 모듈을 수백 개 건드린 경험이 있는가? 너무 자주 접하는 모습이다.
```
- 좋은 코드를 사수하는 일은 바로 `우리 프로그래머들의 책임`이다.
- 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.

<br/>

## 원초적 난제
- 기한을 맞추려면 나쁜 코드를 양산할 수 밖에 없다고 느낀다. 
- 실상은 엉망진창인 상태로 인해 속도가 곧바로 늦어지고 결국 기한을 놓친다.
- 기한을 맞추는 유일한 방법은 `언제나 코드를 최대한 깨끗하게 유지`하는 습관이다.

<br/>

## 깨끗한 코드라는 예술?
- 깨끗한 코드를 어떻게 작성할까?
- 깨끗한 코드와 나쁜 코드를 구분할 줄 안다고 깨끗한 코드를 작성할 줄 안다는 뜻은 아니다.
- 열쇠는 `코드 감각`이다. 어떤 사람은 타고나고 어떤 사람은 투쟁해서 얻어야 한다.
- `코드 감각`이 있는 프로그래머는 나쁜 모듈을 보면 좋은 모듈로 개선할 방안을 떠올린다.

<br/>

## 깨끗한 코드란?
```
아마 프로그래머 수만큼이나 정의도 다양하리라.
그래서 나는 우리 분야에서 아주 유명하고 노련한 프로그래머들에게 의견을 물었다.
```
- 바야네 스트롭스트룹 (C++ 창시자)
    - 바야네는 '`우아한`' 이라는 단어를 사용한다.
    - 비야네에 따르면 깨끗한 코드는 `보기에 즐거운` 코드다.
    - 속도가 느리다거나 CPU 자원을 낭비하는 코드는 우아하지 못하다.
    - 나쁜 코드는 나쁜 코드를 `유혹` 한다. 나쁜 코드를 고치면서 오히려 더 나쁜 코드를 만든다는 뜻이다.
    - 깨끗한 코드는 `세세한 사항까지 꼼꼼하게 처리하는 코드`다.
    - 꺠끗한 코드는 `한 가지에 집중`한다. 
        - 수많은 소프트웨어 설계 원칙이 이 간단한 교훈 하나로 귀결된다.
- 그래디 부치
    - 깨끗한 코드는 `잘 쓴 문장처럼 읽힌다`.
    - 깨끗한 코드는 `해결할 문제의 긴장을 명확히` 드러내야 한다.
    - 코드는 추측이 아니라 `사실에 기반`해야 한다.
    - 반드시 `필요한 내용만` 담아야 한다.
    - 코드를 읽는 사람에게 프로그래머가 단호하다는 인상을 줘야 한다.
- 큰 형님 데이브 토마스
    - 깨끗한 코드란 `다른 사람이 고치기 쉽다`고 단언한다.
    - 테스트 케이스가 없는 코드는 깨끗한 코드가 아니다.
    - 아무리 코드가 우아해도, 아무리 가독성이 높아도, `테스트 케이스가 없으면 깨끗하지 않다.`
    - `작을수록 좋다.`
        - 이는 우리 분야가 탄생한 이래로 소프트웨어 문헌에서 계속 반복하는 교훈이기도 하다.
    - 인간이 읽기 좋은 코드를 작성하자.
- 마이클 페더스
    - 깨끗한 코드는 언제나 누군가 주의 깊게 짰다는 느낌을 준다.
- 론 제프리스
    - 모든 테스트를 통과한다.
    - `중복을 피하라.`
    - 시스템 내 모든 설계 아이디어를 표현한다.
    - 클래스, 메서드, 함수 등을 `최대한 작게`하라.
- 워드 커닝햄
    - 꺠끗한 코드는 읽으면서 `놀랄 일이 없어야 한다.`
    - 코드를 `독해하느라 머리를 쥐어짤 필요가 없어야 한다.`
    - `읽으면서 짐작한 대로 돌아가는 코드`가 깨끗한 코드다.
- 우리(저자)들 생각
    ```
    실제로도 이 책에서 주장하는 기법 다수는 논쟁의 여지가 있다.
    여러분도 모든 기법에 동의하지 않으리라.
    어떤 기법은 격렬히 반대하리라. 그래도 괜찮다.
    우리 생각이 무조건 옳다고 주장할 의도는 없으니까.
    하지만 다른 한편으로 이 책은 우리가 오랫동안 고민하고 숙고한 교훈과 기법을 권고한다.
    수십 년에 걸친 경험과 반복적인 시행착오로 습득한 교훈과 기법이다.
    ```

<br/>

## 우리는 저자다
- 저자에게는 독자가 있고 저자에게는 독자와 잘 소통할 `책임`도 있다.
- 코드를 짤 때는 `자신이 저자라는 사실`을, 여러분의 노력을 보고 판단을 내릴 독자가 있다는 사실을 기억하기 바란다.
- 새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽기 때문에 읽기 쉬운 코드가 매우 중요하다.

<br/>

## 보이스카우트 규칙
- 적극적으로 코드의 퇴보를 막아야 한다.
- `캠프장은 처음 왔을 때 보다 더 깨끗하게 해놓고 떠나라.`
- 체크아웃 할 때 보다 좀 더 깨끗한 코드를 체크인한다면 코드는 절대 나빠지지 않는다.
- 변수 이름 하나를 개선하고, 조금 긴 함수 하나를 분할하고, 약간의 중복을 제거하고, 복잡한 if문 하나를 정리하면 충분하다.

</br>

## 결론
- 예술에 대한 책을 읽는다고 예술가가 된다는 보장은 없다.
- 여러분에게 달렸다.
- `연습해, 연습!`
